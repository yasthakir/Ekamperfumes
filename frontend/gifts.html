<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gifts - Aurora Perfumes</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ++ NEW "GIFTS" COLOR PALETTE ++ */
:root {
  --primary: #d4af37;   /* Gold */
  --secondary: #c0392b; /* Pomegranate Red */
  --bg: #fdfbf7;
  --muted: #7b6f6a;
  --accent-glow: rgba(212, 175, 55, 0.35); /* Gold Glow */
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:#222;overflow-x:hidden;}
a{text-decoration:none;color:inherit;}
.container{max-width:1300px;margin:0 auto;padding:20px;}

/* Header */
header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 30px;
  background:rgba(255,255,255,0.3);
  backdrop-filter:blur(10px);
  border-radius:16px;
  position:sticky;
  top:0;
  z-index:1000;
}
header .logo {
  font-family:'Playfair Display';
  font-weight:700;
  font-size:28px;
  color:white;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  padding:12px;
  border-radius:14px;
  box-shadow:0 8px 22px rgba(0,0,0,0.1);
}
nav a {
  margin:0 12px;
  font-weight:500;
  color:var(--muted);
  position:relative;
}
nav a::after {
  content:'';
  position:absolute;
  left:0;
  bottom:-3px;
  width:0;
  height:2px;
  background:var(--primary);
  transition:0.3s;
}
nav a:hover::after { width:100%; }
.icon-btn {
  background:rgba(255,255,255,0.2);
  border:none;
  padding:6px 10px;
  border-radius:12px;
  cursor:pointer;
  transition:.3s;
  font-size:18px;
}
.icon-btn:hover { transform:scale(1.2); background:rgba(255,255,255,0.35); }
#hamburger{display:none;}
.nav-close-btn {display: none;}


/* MOBILE HEADER & SIDE NAV STYLES */
@media(max-width:768px){
  header {
    justify-content: space-between;
    position: relative;
    padding: 15px 20px;
  }
  #hamburger {
    display: block;
    font-size: 26px;
    background: transparent;
    border: none;
    cursor: pointer;
    z-index: 1001;
  }
  .logo {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
  }
  nav {
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: -100%;
    width: 70%;
    height: 100vh;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(12px);
    padding: 80px 20px 20px;
    border-radius: 0 16px 16px 0;
    box-shadow: 10px 0 30px rgba(0,0,0,0.2);
    z-index: 1002;
    transition: left 0.3s ease-in-out;
  }
  nav.show { left: 0; }
  nav a { margin: 15px 0; }
  .nav-close-btn {
    display: block;
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 32px;
    color: var(--muted);
    background: transparent;
    border: none;
    cursor: pointer;
  }
}

/* Search Bar */
.search-bar {
  display:flex;
  justify-content:center;
  align-items: center;
  gap: 10px;
  margin:15px auto 25px auto;
  max-width:800px;
  padding:8px;
  border-radius:30px;
  background:white;
  box-shadow:0 4px 20px rgba(0,0,0,0.08);
}
.search-bar input {
  flex:1;
  border:none;
  outline:none;
  padding:12px 16px;
  font-size:15px;
  border-radius:30px;
}
.search-bar button {
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  border:none;
  color:white;
  padding:0 20px;
  border-radius:30px;
  font-weight:600;
  cursor:pointer;
  transition:.3s;
}
.search-bar button:hover { transform:scale(1.05); }

/* Back Button Styling */
.back-btn {
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  color:white;
  font-size:18px;
  font-weight:bold;
  padding:8px 14px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 4px 12px var(--accent-glow);
  transition: 0.3s ease;
}
.back-btn:hover {
  transform:scale(1.1);
  box-shadow:0 6px 16px var(--accent-glow);
}

.hero {position:relative;text-align:center;padding:100px 20px 80px 20px;background:linear-gradient(135deg,var(--primary),var(--secondary));color:white;border-radius:20px;overflow:hidden;}
.hero h1 {font-family:'Playfair Display';font-size:clamp(2rem,5vw,3rem);margin-bottom:15px;}
.hero p {font-size:16px;opacity:0.9;}
.sparkles {position:absolute;inset:0;overflow:hidden;pointer-events:none;}
.sparkle {position:absolute;width:6px;height:6px;border-radius:50%;background:white;opacity:.7;animation:floatSparkle 6s infinite ease-in-out alternate;}
.sparkle:nth-child(1){top:20%;left:15%;animation-delay:0s;}
.sparkle:nth-child(2){top:40%;left:70%;animation-delay:2s;}
.sparkle:nth-child(3){top:65%;left:30%;animation-delay:4s;}
.sparkle:nth-child(4){top:80%;left:80%;animation-delay:1s;}
@keyframes floatSparkle {0% { transform:translateY(0) scale(1); opacity:.7; } 50% { transform:translateY(-20px) scale(1.2); opacity:1; } 100% { transform:translateY(0) scale(1); opacity:.6; }}
@media(max-width:768px){.hero { padding:60px 20px; } .hero h1 { font-size:clamp(1.5rem,5vw,2rem); } .hero p { font-size:14px; }}
.filter-section {display:flex;flex-wrap:wrap;gap:12px;padding:20px 0;justify-content:flex-start;align-items:center;}
.filter-section select {padding:10px 14px;border-radius:10px;border:none;cursor:pointer;transition:0.3s;background:#f5f5f5;}
.products-grid {display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:24px;padding:20px 0;}
.product-card {background:white;border-radius:18px;overflow:hidden;box-shadow:0 10px 20px rgba(0,0,0,0.06);text-align:center;cursor:pointer;transition: transform 0.4s ease, box-shadow 0.4s ease;}
.product-card img {width:100%;height:220px;object-fit:cover;transition:transform 0.5s ease;}
.product-card:hover img { transform:scale(1.1); }
.product-card:hover {transform:translateY(-10px);box-shadow:0 20px 40px rgba(0,0,0,0.15);}
.product-card h4 { margin:12px 0; font-weight:600; }
.product-card .price { color:#333; font-weight:700; margin-bottom:12px; }
.add-cart {padding:10px 16px;border:none;border-radius:12px;background:linear-gradient(135deg,var(--primary),var(--secondary));color:white;font-weight:600;cursor:pointer;transition:.3s;box-shadow:0 6px 20px var(--accent-glow);}
.add-cart:hover {transform:scale(1.05);box-shadow:0 12px 25px var(--accent-glow);}

/* Footer CSS */
.footer {
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(250,250,250,0.95));
  padding: 60px 20px 30px 20px;
  color: #333;
  position: relative;
  overflow: hidden;
  width: 100%;
}
.footer-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 30px;
}
.footer h4 {
  font-size: 18px;
  margin-bottom: 15px;
  font-family: 'Playfair Display', serif;
}
.footer p, .footer ul li {
  font-size: 14px;
  line-height: 1.6;
  color: #555;
}
.footer ul { list-style: none; padding: 0; }
.footer ul li { margin-bottom: 10px; }
.footer ul li a {
  color: #555;
  text-decoration: none;
  transition: all 0.3s ease;
  position: relative;
}
.footer ul li a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0%;
  height: 2px;
  background: var(--primary);
  transition: width 0.3s ease;
}
.footer ul li a:hover::after { width: 100%; }
.footer ul li a:hover { color: var(--primary); }
.footer-brand {
  text-align: center;
  margin-bottom: 40px;
}
.footer-brand .logo {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 32px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  padding: 12px;
  border-radius: 14px;
  display: inline-block;
  color: white;
  text-align: center;
}
.footer-socials {
  display: flex;
  gap: 12px;
  margin-top: 15px;
}
.footer-socials a {
  width: 36px;
  height: 36px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--primary);
  color: white;
  border-radius: 50%;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.footer-socials a:hover {
  transform: translateY(-6px) scale(1.1);
  box-shadow: 0 8px 20px rgba(202,169,122,0.35);
}
.footer-bottom {
  margin-top: 40px;
  border-top: 1px solid #ddd;
  padding-top: 20px;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  font-size: 13px;
  color: var(--muted);
}
@media (max-width: 900px) { .footer-container { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 600px) { .footer-container { grid-template-columns: 1fr; } .footer-bottom { flex-direction: column; text-align: center; gap: 10px; } }
@media(max-width:768px){.products-grid{grid-template-columns:repeat(2,1fr);}}

</style>
</head>
<body>
<div class="container">

  <header>
    <button id="hamburger">‚ò∞</button>
    <div class="logo">A</div>
    <nav id="sideNav">
      <button class="nav-close-btn" id="navCloseBtn">&times;</button>
      <a href="index.html">Home</a>
      <a href="forhim.html">For Him</a>
      <a href="forher.html">For Her</a>
      <a href="gifts.html">Gifts</a>
    </nav>
    <div class="actions">
      <a href="fav.html"><button class="icon-btn">‚ô°</button></a>
      <a href="cart.html"><button class="icon-btn">üõí</button></a>
      <a href="profile.html"><button class="icon-btn">üë§</button></a>
    </div>
  </header>

  <div class="search-bar">
    <a href="index.html" class="back-btn">‚Üê</a>
    <input type="text" placeholder="Search for the perfect gift...">
    <button class="search-btn">Search</button>
  </div>

  <section class="hero">
    <h1>The Perfect Gift Awaits</h1>
    <p>Find unforgettable fragrances and beautifully packaged gift sets for any occasion.</p>
    <div class="sparkles">
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
    </div>
  </section>

  <div class="filter-section">
      <div class="filter-group">
        <label for="sort">Sort By:</label>
        <select id="sort">
          <option>Popularity</option>
          <option>Newest</option>
          <option>Price: Low to High</option>
          <option>Price: High to Low</option>
        </select>
      </div>
  </div>
  
  <section class="products-grid" id="productsGrid">
      </section>

</div> 

<footer class="footer">
    <div class="footer-brand">
      <div class="logo">A</div>
      <p>Premium handcrafted fragrances inspired by nature and elegance. Experience luxury in every scent.</p>
    </div>
    <div class="footer-container">
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#products">Shop</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </div>
      <div class="footer-categories">
        <h4>Categories</h4>
        <ul>
          <li><a href="forhim.html">For Him</a></li>
          <li><a href="forher.html">For Her</a></li>
          <li><a href="gifts.html">Gifts</a></li>
          <li><a href="signature.html">Signature</a></li>
        </ul>
      </div>
      <div class="footer-contact">
        <h4>Contact Us</h4>
        <p>Email: support@auroraperfumes.com</p>
        <p>Phone: +91 98765 43210</p>
        <div class="footer-socials">
          <a href="#">üê¶</a>
          <a href="#">üìò</a>
          <a href="#">üì∏</a>
          <a href="#">üé•</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Aurora Perfumes. All rights reserved.</p>
      <p>Designed with ‚ù§Ô∏è by YourBrand</p>
    </div>
</footer>

<div id="custom-message" style="display:none; position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:#333; color:white; padding:10px 20px; border-radius:10px; z-index:2000; box-shadow:0 4px 12px rgba(0,0,0,0.3); font-size: 14px; opacity:0; pointer-events: none;"></div>

<script>
    // ++ UPDATED JAVASCRIPT FILTER ++
    const CATEGORY_FILTER = 'Gift'; 
    const apiBase = "https://ekamperfumes-production.up.railway.app/api";
    let allProducts = []; 

    function showMessage(message) {
        const msgBox = document.getElementById('custom-message');
        if (!msgBox) return;
        msgBox.textContent = message;
        msgBox.style.display = 'block';
        
        if (typeof gsap !== 'undefined') {
            gsap.fromTo(msgBox, {y: 20, autoAlpha: 0}, {y: 0, autoAlpha: 1, duration: 0.3});
            clearTimeout(window.msgTimeout);
            window.msgTimeout = setTimeout(() => {
                gsap.to(msgBox, {y: 20, autoAlpha: 0, duration: 0.3, onComplete: () => {
                     msgBox.style.display = 'none';
                }});
            }, 3000);
        } else {
            setTimeout(() => { msgBox.style.display = 'none'; }, 3000);
        }
    }
    
    function addToCart(product) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const existingProductIndex = cart.findIndex(item => item.id === product._id);
        const cartItem = { id: product._id, name: product.name, price: product.price, img: product.image, qty: 1 };
        if (existingProductIndex > -1) { cart[existingProductIndex].qty = (cart[existingProductIndex].qty || 1) + 1; } 
        else { cart.push(cartItem); }
        localStorage.setItem("cart", JSON.stringify(cart));
        showMessage(`${product.name} added to cart!`); 
    }

    function toggleFavoriteStatus(product, favBtn) {
        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        const existingProductIndex = favorites.findIndex(item => item.id === product._id);
        const favItem = { id: product._id, name: product.name, price: product.price, img: product.image };
        if (existingProductIndex > -1) { favorites.splice(existingProductIndex, 1); favBtn.classList.remove('selected'); } 
        else { favorites.push(favItem); favBtn.classList.add('selected'); }
        localStorage.setItem("favorites", JSON.stringify(favorites));
        showMessage(`Toggled favorite status for ${product.name}`); 
    }
    
    function openProductView(productId) {
        if (!productId) return;
        localStorage.setItem('productId', productId);
        window.location.href = 'product.html';
    }
    
    function renderProducts(products) {
        const container = document.getElementById('productsGrid');
        if (!container) return;
        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        container.innerHTML = '';
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'product-card';
            const isFavorite = favorites.some(item => item.id === product._id);
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}" onerror="this.onerror=null;this.src='https://placehold.co/220x220/d4af37/ffffff?text=Image'">
                <h4>${product.name}</h4>
                <p class="price">‚Çπ${product.price}</p>
                <div style="display: flex; gap: 8px; justify-content: center; align-items: center; padding: 0 10px 15px 10px;">
                    <button class="add-cart" style="flex-grow: 1;">Add to Cart</button>
                    <button class="fav-btn ${isFavorite ? 'selected' : ''}" style="background: white; border: 1px solid #ddd; border-radius: 10px; padding: 8px 12px; font-size: 16px; cursor: pointer; line-height: 1;">‚ô°</button>
                </div>
            `;
            card.addEventListener('click', () => openProductView(product._id));
            const cartBtn = card.querySelector('.add-cart');
            const favBtn = card.querySelector('.fav-btn');
            if (cartBtn) cartBtn.addEventListener('click', (event) => { event.stopPropagation(); addToCart(product); });
            if (favBtn) favBtn.addEventListener('click', (event) => { event.stopPropagation(); toggleFavoriteStatus(product, favBtn); });
            container.appendChild(card);
        });
    }

    function applyFilters() {
        let filtered = allProducts.filter(p => p.category === CATEGORY_FILTER);
        const sortSelect = document.getElementById('sort');
        if (sortSelect) {
            const sort = sortSelect.value;
            if (sort === 'Price: Low to High') filtered.sort((a, b) => a.price - b.price);
            if (sort === 'Price: High to Low') filtered.sort((a, b) => b.price - a.price);
            if (sort === 'Newest') filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        }
        renderProducts(filtered);
    }

    document.addEventListener('DOMContentLoaded', () => {
        fetch(`${apiBase}/products`)
            .then(response => response.json())
            .then(products => {
                allProducts = products;
                applyFilters();
            })
            .catch(error => {
                console.error('Error fetching products:', error);
                document.getElementById('productsGrid').innerHTML = "<p>Could not load products. Please try again later.</p>";
            });
        document.getElementById('sort').addEventListener('change', applyFilters);
        const hamburger = document.getElementById('hamburger');
        const nav = document.getElementById('sideNav');
        const navCloseBtn = document.getElementById('navCloseBtn');
        if (hamburger && nav && navCloseBtn) {
            hamburger.addEventListener('click', () => nav.classList.add('show'));
            navCloseBtn.addEventListener('click', () => nav.classList.remove('show'));
            nav.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => nav.classList.remove('show'));
            });
        }
    });
</script>

</body>
</html>